# 高性能线程池C++语言版

实现动态扩容和销毁线程

首先分析，要达到动态扩容和销毁，凭借是当前线程个数和任务数量，当前线程大于任务数量时 ，则执行销毁程序，销毁时要销毁不在执行的线程，当前线程数量小于任务数量时，创建线程加入线程队列中，添加任务时，任务队列,需要在管理者线程中创建线程或者 给线程发送销毁信息,销毁线程需要知道线程队列中忙线程的个数和存活线程的个数

所以类变量设计：

任务队列：tasks 存储待执行的任务、 stl自带队列个数

管理者线程：创建线程或者 给线程发送销毁信息

线程队列：当前存活的线程

忙线程个数：存放当前运行中的的线程个数

构造函数的作用是：

初始化必要的信息，创建任务线程和管理者线程

添加任务的函数

任务线程线程销毁函数：

返回任务队列中的元素个数

析构函数：

两个互斥锁：

queue_mutex锁的作用：出队列，入队列和查看队列元素个数时时需要加锁

thread_counter锁 记录忙状态锁的个数

条件变量，用于获取任务阻塞线程